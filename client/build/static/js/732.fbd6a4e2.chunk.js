"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[732],{732:function(e,n,t){t.r(n);var r=t(214),s=t(861),c=t(885),i=t(791),a=t(219),o=t(174),l=t(871),d=t(504),u=t(184);n.default=function(){var e=(0,i.useState)(),n=(0,c.Z)(e,2),t=n[0],p=n[1],h=(0,a.x)(),x=h.state.cart,m=h.dispatch,f=(0,l.s0)();(0,i.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/home",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(200!==!n.status){e.next=9;break}throw new Error(n.error);case 9:e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),o.Am.error("Please Login For Better Experience"),f("/login");case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var j=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({type:"REMOVE_FROM_CART",payload:n}),o.Am.error("Removed From Bag");case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){p(x.reduce((function(e,n){return e+Number(n.price)*n.qty}),0))}),[x]);var y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.qty+1,s=parseInt(t),c=n.id.toString(),m({type:"CHANGE_CART_QTY",payload:{prod_id:c,quantity:s}}),o.Am.success("Quantity Updated");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===n.qty?o.Am.error("Quantity cannot be zero"):(t=n.qty-1,s=parseInt(t),c=n.id.toString(),m({type:"CHANGE_CART_QTY",payload:{prod_id:c,quantity:s}}),o.Am.success("Quantity Updated"));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"cart_page",id:"cart_page",children:[(0,u.jsxs)("div",{className:"shopping_cart",children:[(0,u.jsx)("h2",{children:"Shopping Bag"}),(0,u.jsx)("span",{children:(0,u.jsx)("p",{children:"Price"})}),0===x.length?(0,u.jsx)("div",{className:"empty_cart",children:(0,u.jsxs)("div",{className:"empty_cart_h1",children:[(0,u.jsx)("h1",{children:"Your Shopping Bag is Empty"}),(0,u.jsx)("p",{onClick:function(){return f("/")},children:"Continue Shopping?"})]})}):(0,u.jsx)(u.Fragment,{children:x.map((function(e){return(0,u.jsxs)("div",{className:"shopping_cartleft",children:[(0,u.jsx)("div",{className:"left_image",children:(0,u.jsx)(d.rU,{to:"/productpage",state:{data:e},style:{color:"black",textDecoration:"none",listStyleType:"none"},children:(0,u.jsx)("img",{src:e.image,alt:e.name})})}),(0,u.jsxs)("div",{className:"right_details",children:[(0,u.jsx)(d.rU,{to:"/productpage",state:{data:e},style:{color:"black",textDecoration:"none",listStyleType:"none"},children:(0,u.jsxs)("h3",{children:[e.name," "]})}),(0,u.jsx)("div",{className:"end_price_mobile",children:(0,u.jsxs)("h3",{children:["\u20b9 ",e.price]})}),(0,u.jsx)("h6",{children:"Eligible for FREE Shipping"}),(0,u.jsxs)("h6",{style:{color:"green"},children:[" ",e.inStock?"In Stock":"out of stock"]}),(0,u.jsxs)("div",{className:"del_qty",children:[(0,u.jsx)("div",{className:"delete",children:(0,u.jsx)("span",{className:"delete_Span",onClick:function(){j(e)},children:"Delete"})}),(0,u.jsxs)("div",{className:"product_qty",children:[(0,u.jsx)("button",{className:"qty_btn",onClick:function(){return v(e)},children:"-"}),(0,u.jsx)("div",{className:"qty_num",children:e.qty}),(0,u.jsx)("button",{className:"qty_btn",onClick:function(){return y(e)},children:"+"})]})]}),(0,u.jsxs)("h5",{children:["\u20b9 ",e.price]})]}),(0,u.jsx)("div",{className:"end_price",children:(0,u.jsxs)("h3",{children:["\u20b9 ",e.price]})})]},e.id)}))}),(0,u.jsxs)("h4",{children:["Subtotal (",x.length," item): \u20b9",t]})]}),(0,u.jsxs)("div",{className:"price_cart",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("i",{className:"fas fa-smile-wink"}),"Yay, Your order is eligible for FREE Delivery."]}),(0,u.jsxs)("h3",{children:["Subtotal (",x.length," item): \u20b9",t]}),(0,u.jsx)("button",{type:"button",onClick:function(){return o.Am.success("Order Placed \ud83d\ude0a")},children:"Proceed to Buy"})]})]})})}}}]);
//# sourceMappingURL=732.fbd6a4e2.chunk.js.map