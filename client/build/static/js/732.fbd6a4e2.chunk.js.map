{"version":3,"file":"static/js/732.fbd6a4e2.chunk.js","mappings":"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","sources":["Components/Cart.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { CartState } from \"../Context/Context\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst Cart = () => {\r\n  const [total, setTotal] = useState();\r\n  const {\r\n    state: { cart },\r\n    dispatch,\r\n  } = CartState();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const Callmainpage = async () => {\r\n      try {\r\n        const res = await fetch(\"/home\", {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n          },\r\n          credentials: \"include\",\r\n        });\r\n        await res.json();\r\n        if (!res.status === 200) {\r\n          const error = new Error(res.error);\r\n          throw error;\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n        toast.error(\"Please Login For Better Experience\");\r\n        navigate(\"/login\");\r\n      }\r\n    };\r\n    Callmainpage();\r\n  }, []);\r\n\r\n  const deletec = async (proddata) => {\r\n    dispatch({\r\n      type: \"REMOVE_FROM_CART\",\r\n      payload: proddata,\r\n    });\r\n    toast.error(\"Removed From Bag\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTotal(\r\n      cart.reduce((acc, curr) => acc + Number(curr.price) * curr.qty, 0)\r\n    );\r\n  }, [cart]);\r\n\r\n  const add = async (prod) => {\r\n    const addv = prod.qty + 1;\r\n    let quantity = parseInt(addv);\r\n    let prod_id = prod.id.toString();\r\n    dispatch({\r\n      type: \"CHANGE_CART_QTY\",\r\n      payload: { prod_id, quantity },\r\n    });\r\n    toast.success(\"Quantity Updated\");\r\n  };\r\n\r\n  const minus = async (prod) => {\r\n    if (prod.qty === 1) {\r\n      toast.error(\"Quantity cannot be zero\");\r\n    } else {\r\n      const addv = prod.qty - 1;\r\n      let quantity = parseInt(addv);\r\n      let prod_id = prod.id.toString();\r\n      dispatch({\r\n        type: \"CHANGE_CART_QTY\",\r\n        payload: { prod_id, quantity },\r\n      });\r\n      toast.success(\"Quantity Updated\");\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"cart_page\" id=\"cart_page\">\r\n        <div className=\"shopping_cart\">\r\n          <h2>Shopping Bag</h2>\r\n          <span>\r\n            <p>Price</p>\r\n          </span>\r\n          {cart.length === 0 ? (\r\n            <div className=\"empty_cart\">\r\n              <div className=\"empty_cart_h1\">\r\n                <h1>Your Shopping Bag is Empty</h1>\r\n                <p onClick={() => navigate(\"/\")}>Continue Shopping?</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {cart.map((prod) => {\r\n                return (\r\n                  <div className=\"shopping_cartleft\" key={prod.id}>\r\n                    <div className=\"left_image\">\r\n                      <Link\r\n                        to=\"/productpage\"\r\n                        state={{ data: prod }}\r\n                        style={{\r\n                          color: \"black\",\r\n                          textDecoration: \"none\",\r\n                          listStyleType: \"none\",\r\n                        }}\r\n                      >\r\n                        <img src={prod.image} alt={prod.name} />\r\n                      </Link>\r\n                    </div>\r\n                    <div className=\"right_details\">\r\n                      <Link\r\n                        to=\"/productpage\"\r\n                        state={{ data: prod }}\r\n                        style={{\r\n                          color: \"black\",\r\n                          textDecoration: \"none\",\r\n                          listStyleType: \"none\",\r\n                        }}\r\n                      >\r\n                        <h3>{prod.name} </h3>\r\n                      </Link>\r\n                      <div className=\"end_price_mobile\">\r\n                        <h3>â‚¹ {prod.price}</h3>\r\n                      </div>\r\n                      <h6>Eligible for FREE Shipping</h6>\r\n                      <h6 style={{ color: \"green\" }}>\r\n                        {\" \"}\r\n                        {!prod.inStock ? \"out of stock\" : \"In Stock\"}\r\n                      </h6>\r\n                      <div className=\"del_qty\">\r\n                        <div className=\"delete\">\r\n                          <span\r\n                            className=\"delete_Span\"\r\n                            onClick={() => {\r\n                              deletec(prod);\r\n                            }}\r\n                          >\r\n                            Delete\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"product_qty\">\r\n                          <button\r\n                            className=\"qty_btn\"\r\n                            onClick={() => minus(prod)}\r\n                          >\r\n                            -\r\n                          </button>\r\n                          <div className=\"qty_num\">{prod.qty}</div>\r\n                          <button className=\"qty_btn\" onClick={() => add(prod)}>\r\n                            +\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                      <h5>â‚¹ {prod.price}</h5>\r\n                    </div>\r\n                    <div className=\"end_price\">\r\n                      <h3>â‚¹ {prod.price}</h3>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </>\r\n          )}\r\n\r\n          <h4>\r\n            Subtotal ({cart.length} item): â‚¹{total}\r\n          </h4>\r\n        </div>\r\n\r\n        <div className=\"price_cart\">\r\n          <p>\r\n            <i className=\"fas fa-smile-wink\"></i>Yay, Your order is eligible for\r\n            FREE Delivery.\r\n          </p>\r\n          <h3>\r\n            Subtotal ({cart.length} item): â‚¹{total}\r\n          </h3>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => toast.success(\"Order Placed ðŸ˜Š\")}\r\n          >\r\n            Proceed to Buy\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"names":["useState","total","setTotal","CartState","cart","state","dispatch","navigate","useNavigate","useEffect","Callmainpage","fetch","method","headers","Accept","credentials","res","json","status","Error","error","console","log","toast","deletec","proddata","type","payload","reduce","acc","curr","Number","price","qty","add","prod","addv","quantity","parseInt","prod_id","id","toString","minus","className","length","onClick","map","to","data","style","color","textDecoration","listStyleType","src","image","alt","name","inStock"],"sourceRoot":""}